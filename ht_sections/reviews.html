<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Eben Safari Tours – Live Google Reviews</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

<style>
body {
  margin: 0;
  background: #0d4b2f;
  font-family: Arial, sans-serif;
}

.reviews-section-live {
  padding: 60px 20px;
  max-width: 1200px;
  margin: auto;
  text-align: center;
}

.reviews-title-live {
  color: #fff;
  font-size: 32px;
  font-weight: bold;
  margin-bottom: 40px;
}

.review-card-live {
  background: #fff;
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 5px 12px rgba(0,0,0,0.2);
  text-align: left;
}

.review-header-live {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.review-avatar-live {
  width: 40px;
  height: 40px;
  background: #666;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  border-radius: 50%;
  margin-right: 10px;
}

.review-name-live {
  font-weight: bold;
}

.review-stars-live {
  color: #f5b700;
  margin: 6px 0;
}

.review-text-live {
  color: #333;
  font-size: 14px;
}

.swiper-pagination-bullet {
  background: #fff;
  opacity: 0.7;
}

.swiper-pagination-bullet-active {
  background: #ffd700;
}

</style>
</head>
<body>

<section class="reviews-section-live">
  <h2 class="reviews-title-live">OUR REVIEWS (LIVE)</h2>

  <div class="swiper reviews-swiper-live">
    <div class="swiper-wrapper" id="reviews-container-live">
      <!-- Reviews loaded dynamically -->
    </div>

    <div class="swiper-pagination"></div>
  </div>
</section>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- Google Places API -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&libraries=places"></script>

<script>
// === CONFIG ===
const PLACE_ID = "ChIJ5s0jM9vY3BkRReBYaw_OCuI"; // Eben Safari Tours

// === LOAD GOOGLE REVIEWS ===
function loadGoogleReviews() {
  const service = new google.maps.places.PlacesService(
    document.createElement("div")
  );

  service.getDetails(
    {
      placeId: PLACE_ID,
      fields: ["reviews"]
    },
    function (place, status) {
      if (status !== google.maps.places.PlacesServiceStatus.OK) {
        console.error("Failed to load reviews");
        return;
      }

      const container = document.getElementById("reviews-container-live");

      place.reviews.forEach((rev) => {
        const card = document.createElement("div");
        card.className = "swiper-slide review-card-live";

        card.innerHTML = `
          <div class="review-header-live">
            <div class="review-avatar-live">
              ${rev.author_name.charAt(0)}
            </div>
            <div>
              <div class="review-name-live">${rev.author_name}</div>
              <div style="font-size:12px;color:gray;">${rev.relative_time_description}</div>
            </div>
          </div>

          <div class="review-stars-live">${"★".repeat(rev.rating)}</div>

          <p class="review-text-live">
            ${rev.text}
          </p>
        `;

        container.appendChild(card);
      });

      // INIT SWIPER AFTER REVIEWS LOAD
      new Swiper('.reviews-swiper-live', {
        loop: true,
        autoplay: { delay: 4000 },
        slidesPerView: 1,
        spaceBetween: 20,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        breakpoints: {
          768: { slidesPerView: 2 },
          1024: { slidesPerView: 3 }
        }
      });
    }
  );
}

window.onload = loadGoogleReviews;
</script>

</body>
</html>
